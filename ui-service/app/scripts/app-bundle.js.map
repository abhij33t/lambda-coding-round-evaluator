{"version":3,"sources":["app.js","candidate-details.js","candidate-form.js","candidate-list.js","environment.js","main.js","messages.js","no-selection.js","utility.js","web-api.js","resources/index.js","resources/elements/loading-indicator.js"],"names":["App","inject","api","configureRouter","config","router","title","map","route","moduleId","name","CandidateDetail","ea","activate","params","routeConfig","getCandidateDetails","id","then","candidate","navModel","setTitle","originalCandidate","JSON","parse","stringify","publish","CandidateForm","fullname","email","experience","recruiterEmail","skills","appRouter","submit","candidateData","Number","console","log","submitCandidate","res","navigate","catch","err","isRequesting","CandidateList","candidates","subscribe","select","msg","found","find","x","Object","assign","created","getCandidateList","selectedId","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot","CandidateUpdated","CandidateViewed","CandidateSubmitted","NoSelection","message","areEqual","obj1","obj2","keys","every","key","hasOwnProperty","axiosInstance","create","baseURL","WebAPI","get","data","response","candidateId","post","globalResources","nprogress","LoadingIndicator","defaultValue","on","loadingChanged","newValue","done"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {WebAPI} from './web-api';\n\nexport class App {\n  \n  static inject() { return [WebAPI]; }\n\n  constructor(api) {\n    this.api = api;\n  }\n\n  configureRouter(config, router){\n    config.title = 'Candidate Repository';\n    \n    config.map([\n      { route: '',              moduleId: 'no-selection',   title: 'home'},\n      { route: 'candidates/new',  moduleId: 'candidate-form', name:'candidateSubmission' },\n      { route: 'candidates/:id',  moduleId: 'candidate-details', name:'candidates' }\n    ]);\n\n    this.router = router;\n  }\n}","import {EventAggregator} from 'aurelia-event-aggregator';\nimport {WebAPI} from './web-api';\nimport {CandidateUpdated,CandidateViewed} from './messages';\nimport {areEqual} from './utility';\n\nexport class CandidateDetail {\n  static inject() { return [WebAPI, EventAggregator]; }\n\n  constructor(api, ea){\n    this.api = api;\n    this.ea = ea;\n  }\n\n  activate(params, routeConfig) {\n    this.routeConfig = routeConfig;\n\n    return this.api.getCandidateDetails(params.id).then(candidate => {\n      this.candidate = candidate;\n      this.routeConfig.navModel.setTitle(candidate.name);\n      this.originalCandidate = JSON.parse(JSON.stringify(candidate));\n      this.ea.publish(new CandidateViewed(this.candidate));\n    });\n  }\n  \n}","import { EventAggregator } from 'aurelia-event-aggregator';\nimport { WebAPI } from './web-api';\nimport { CandidateSubmitted } from './messages';\nimport { areEqual } from './utility';\nimport { Router } from 'aurelia-router';\n\nexport class CandidateForm {\n  static inject() { return [WebAPI, EventAggregator, Router]; }\n\n  constructor(api, ea, router) {\n    this.api = api;\n    this.ea = ea;\n    this.appRouter = router;\n  }\n\n  candidate = {\n    fullname: null,\n    email: null,\n    experience: null,\n    recruiterEmail: null,\n    skills: null\n  };\n\n\n  get canSave() {\n    return this.candidate.fullname\n      && this.candidate.email\n      && this.candidate.experience\n      && this.candidate.recruiterEmail\n      && this.candidate.skills\n      && !this.api.isRequesting;\n  }\n\n  submit() {\n    const candidateData = {\n      fullname: this.candidate.fullname,\n      email: this.candidate.email,\n      experience: Number(this.candidate.experience),\n      recruiterEmail: this.candidate.recruiterEmail,\n      skills : this.candidate.skills\n    }\n    console.log('candidate', candidateData);\n    this.api.submitCandidate(candidateData)\n      .then(res => {\n        console.log('Receieved response from API', JSON.stringify(res));\n        this.appRouter.navigate('');\n      }).catch(err => {\n        console.log('errror', err);\n      })\n      ;\n  }\n}","import {EventAggregator} from 'aurelia-event-aggregator';\nimport {WebAPI} from './web-api';\nimport {CandidateUpdated, CandidateViewed} from './messages';\n\nexport class CandidateList {\n  static inject = [WebAPI, EventAggregator];\n\n  constructor(api, ea){\n    console.log('inside CandidateList');\n    this.api = api;\n    this.candidates = [];\n\n    ea.subscribe(CandidateViewed, msg => this.select(msg.candidate));\n    ea.subscribe(CandidateUpdated, msg => {\n      let id = msg.candidate.id;\n      let found = this.candidates.find(x => x.id === id);\n      Object.assign(found, msg.candidate);\n    });\n  }\n\n  created(){\n    console.log('fetching CandidateList');\n    this.api.getCandidateList().then(candidates => {\n      this.candidates = candidates\n    });\n  }\n\n  select(candidate){\n    this.selectedId = candidate.id;\n    return true;\n  }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class CandidateUpdated {\n  constructor(candidate){\n    this.candidate = candidate;\n  }\n}\n\nexport class CandidateViewed {\n  constructor(candidate){\n    this.candidate = candidate;\n  }\n}\n\nexport class CandidateSubmitted {\n  constructor(candidate){\n    this.candidate = candidate;\n  }\n}","export class NoSelection {\n  constructor() {\n    this.message = \"Please Select a Contact.\";\n  }\n}","export function areEqual(obj1, obj2) {\n\treturn Object.keys(obj1).every((key) => obj2.hasOwnProperty(key) && (obj1[key] === obj2[key]));\n};","\nimport axios from 'axios';\n\n\nconst axiosInstance = axios.create({\n  baseURL: 'https://ofoxq5c8f7.execute-api.us-east-1.amazonaws.com/dev/candidates'\n});\n\n\nexport class WebAPI {\n  isRequesting = false;\n\n  getCandidateList() {\n    this.isRequesting = true;\n    return axiosInstance.get('').then(response => {\n      this.isRequesting = false;\n      const data = response.data;\n      return data.candidates;\n    }).catch(err => {\n      console.log(\"Received failure from API\", err);\n      this.isRequesting = false;\n      throw err;\n    });\n  }\n\n  getCandidateDetails(candidateId) {\n    this.isRequesting = true;\n    return axiosInstance.get(`/${candidateId}`).then(response => {\n      this.isRequesting = false;\n      return response.data;\n    }).catch(err => {\n      console.log(\"Received failure from API\", err);\n      this.isRequesting = false;\n      throw err;\n    });\n  }\n\n  submitCandidate(candidate) {\n    this.isRequesting = true;\n    return axiosInstance.post('', candidate)\n      .then(res => {\n        this.isRequesting = false;\n        return res;\n      }).catch(err => {\n        console.log(\"Received failure from API\", err);\n        this.isRequesting = false;\n        throw err;\n      });;\n  }\n}\n","export function configure(config) {\n  config.globalResources(['./elements/loading-indicator']);\n}","import * as nprogress from 'nprogress';\nimport {bindable, noView, decorators} from 'aurelia-framework';\n\nexport let LoadingIndicator = decorators(\n  noView(['nprogress/nprogress.css']),\n  bindable({name: 'loading', defaultValue: false})\n).on(class {\n  loadingChanged(newValue){\n    if (newValue) {\n      nprogress.start();\n    } else {\n      nprogress.done();\n    }\n  }\n});"],"sourceRoot":"../src"}